{% extends "base.html" %}
{% block content %}

<form method="POST" action="{{ url_for('register') }}" class="register-form" id="registerForm">
    <!--Show flash messages-->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            {% if category == 'success' %}
                <div class="alert alert-success" role="alert">
                    {{ message|safe }}
                </div>
            {% elif category == 'error' %}
                <div class="alert alert-danger" role="alert">
                    {{ message|safe }}
                </div>
            {% endif %}
        {% endfor %}
    {% endif %}
    {% endwith %}
    
    <h3>Create an account</h3>
    <div class="form-group">
        <input type="text" minlength="1" maxlength="15" class="form-control" id="first_name" name="first_name" placeholder="First Name" required>
        <div class="validation-message" id="firstNameError">Please input</div>
    </div>
    <div class="form-group">
        <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Last Name" required>
        <div class="validation-message" id="lastNameError">Please input</div>
    </div>
    <div class="form-group">
        <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required>
        <div class="validation-message" id="emailError">Please input</div>
    </div>
    <div class="form-group">
        <input type="tel" class="form-control" id="phone_number" name="phone_number" placeholder="Phone Number (optional)">
    </div>
    <div class="form-group">
        <input type="password" minlength="6" maxlength="15" class="form-control" id="password" name="password" placeholder="Password" required>
        <div class="validation-message-password" id="passwordRules">
            <ul style="list-style: none; padding: 0; margin: 0;">
                <li class="validation-message-password" id="uppercase" >Needs an uppercase letter</li>
                <li class="validation-message-password" id="lowercase" >Needs a lowercase letter</li>
                <li class="validation-message-password" id="number" >Needs a number</li>
                <li class="validation-message-password" id="minLength">Minimum 6 characters</li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <input type="password" class="form-control" id="repeatPassword" placeholder="Repeat Password" required>
    </div>
    <div class="password-error" id="passwordError" >Passwords do not match!</div>
    <button type="submit" class="btn btn-primary sign-in-btn register-buttons">Create Account</button>
    <div class="forgot-password-container">
        <a href="{{ url_for('forgot_password') }}" class="forgot-password">Forgot your password?</a>
    </div>
    <div class="already-member">
        <h3>Already a member?</h3>
        <a href="{{ url_for('sign_in') }}" class="btn btn-primary create-account-btn register-buttons">Sign In</a>
    </div>
</form>